<!DOCTYPE html>
<html>

<head>
    <title>SAFETECHio FIDO2 Example</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>

<div class="container">
    <br/>
    <div class="jumbotron">
        <h1 class="display-4 text-center">SAFETECHio FIDO2 / WebAuthn Example</h1>
        <br/>
        <h2>How to use:</h2>
        <b>Registration:</b>
        <p class="">
            - Just enter an identifier for your test, we recommend using an email address as this is what most users will be identified with.<br/>
            - Next press "Register" to begin the registration process.<br/>
            - Follow the on screen registration instructions<br/>
            - If you wish to view the data stored in the local DB go to <a href="http://localhost:8082/example/db/users/" target="_blank">the DB directory</a> and select the user you wish to view
        </p>

        <b>Authentication</b>
        <p class="">
            - Enter an identifier for your authentication test, it must be an identifier you used in your registration process.<br/>
            - Next press "Authenticate" to begin the authentication process.<br/>
            - Follow the on screen authentication instructions<br/>
        </p>

        <p class="lead"><b>For more details</b> about this example please visit the <a href="https://github.com/SAFETECHio/PHP-FIDO2-Example" target="_blank">GitHub repo</a>.</p>
        <hr class="my-4">

        <div class="row">
            <div class="col-md-2">
                <label for="email" class="col-12 col-form-label">Email :</label>
            </div>
            <div class="col-md-6">
                <input class="form-control" type="text" name="username" id="email" placeholder="i.e. name@example.com">
            </div>
            <div class="col-md-2">
                <button class="btn btn-primary btn-block" onclick="SafeTechWebAuthn.registerUser()">Register</button>
            </div>
            <div class="col-md-2">
                <button class="btn btn-success btn-block"  onclick="SafeTechWebAuthn.authenticateUser()">Authenticate</button>
            </div>
        </div>
    </div>
</div>

<script src="js/jquery.min.js"></script>
<script src="js/WebAuthn.js"></script>
<script>
    config = new SAFETECHioWebAuthnConfig();
    config.registerBeginEndpoint += "RegisterBegin.php?username=";
    config.registerCompleteEndpoint += "RegisterComplete.php?username=";
    config.authenticateBeginEndpoint += "AuthenticateBegin.php?username=";
    config.authenticateCompleteEndpoint += "AuthenticationComplete.php?username=";
    config.usernameInputID = "#email";
    config.giveErrorAlert = true;
    config.giveSuccessAlert = true;

    SafeTechWebAuthn = new SAFETECHioWebAuthn(config);
</script>

</body>
</html>